<!DOCTYPE html>
<html>
    <head>
        <title>Game for now</title>
        <link rel="stylesheet" href="main.css" type="text/css">
    </head>
    <body onload="{srt()}">

        <img id="player" src="characters/test.png" style="height: 100px; width: 100px; position: absolute; top: 0px; left: 0px;">


        <div id="death" style="height: 100px; width: 500px; position: absolute; top: 800px; left: 0px; background-color: red;"></div>
        <div id="death02" style="height: 600px; width: 100px; position: absolute; top: 0px; left: 150px; background-color: red;"></div>
        <div id="death03" style="height: 300px; width: 100px; position: absolute; top: 600px; left: 500px; background-color: red;"></div>
        <div id="death04" style="height: 100px; width: 600px; position: absolute; top: 200px; left: 200px; background-color: red;"></div>
        <div id="death05" style="height: 100px; width: 600px; position: absolute; top: 600px; left: 500px; background-color: red;"></div>
        <div id="death06" style="height: 800px; width: 100px; position: absolute; top: 300px; left: 1000px; background-color: red;"></div>
        <div id="death07" style="height: 600px; width: 100px; position: absolute; top: 0px; left: 1300px; background-color: red;"></div>
        <div id="death08" style="height: 800px; width: 100px; position: absolute; top: 200px; left: 1600px; background-color: red;"></div>
        <div id="death09" style="height: 100px; width: 3000px; position: absolute; top: 200px; left: 1600px; background-color: red;"></div>


        <div id="win" style="height: 100px; width: 100px; position: absolute; top: 50px; left: 1800px; background-color: pink;"></div>

        <script>
            function myHitOther(my1,my2){
                left1   = parseInt(document.getElementById(my1).style.left)
                right1  = left1 + parseInt(document.getElementById(my1).style.width)
                top1    = parseInt(document.getElementById(my1).style.top)   
                bottom1 = top1   + parseInt(document.getElementById(my1).style.height)
                left2   = parseInt(document.getElementById(my2).style.left)
                right2  = left2 + parseInt(document.getElementById(my2).style.width)
                top2    = parseInt(document.getElementById(my2).style.top)   
                bottom2 = top2   + parseInt(document.getElementById(my2).style.height)
                if ((right1  >=  left2  ) &&      	   
                (bottom1 >=  top2   ) &&
                (left1   <=  right2 ) &&
                (top1    <=  bottom2) ){
                    return true
                }
            }
            move01 = false
            move02 = false
            move03 = false
            move04 = false

            function myCheckHit(){
                if ( myHitOther('player','death') ){
                    document.getElementById('player').style.left = '0px'
                    document.getElementById('player').style.top = '0px'
                }

                if ( myHitOther('player','death02') ){
                    document.getElementById('player').style.left = '0px'
                    document.getElementById('player').style.top = '0px'
                }

                if ( myHitOther('player','death03') ){
                    document.getElementById('player').style.left = '0px'
                    document.getElementById('player').style.top = '0px'
                }

                if ( myHitOther('player','death04') ){
                    document.getElementById('player').style.left = '0px'
                    document.getElementById('player').style.top = '0px'
                }

                if ( myHitOther('player','death05') ){
                    document.getElementById('player').style.left = '0px'
                    document.getElementById('player').style.top = '0px'
                }

                if ( myHitOther('player','death06') ){
                    document.getElementById('player').style.left = '0px'
                    document.getElementById('player').style.top = '0px'
                }

                if ( myHitOther('player','death07') ){
                    document.getElementById('player').style.left = '0px'
                    document.getElementById('player').style.top = '0px'
                }

                if ( myHitOther('player','death09') ){
                    document.getElementById('player').style.left = '0px'
                    document.getElementById('player').style.top = '0px'
                }

                if ( myHitOther('player','win') ){
                    alert('You win')
                    document.getElementById('player').style.left = '0px'
                    document.getElementById('player').style.top = '0px'
                }
            }

            let clock


                function srt() {

                    clearInterval(clock)
                    clock = setInterval(function(){
                        if (move01 == true && parseInt(document.getElementById('player').style.left) < 1800) {
                            document.getElementById('player').style.left = parseInt(document.getElementById('player').style.left) + 10 + 'px'
                        }

                        if (move02 == true && parseInt(document.getElementById('player').style.left) > 0) {
                            document.getElementById('player').style.left = parseInt(document.getElementById('player').style.left) - 10 + 'px'
                        }

                        if (move03 == true && parseInt(document.getElementById('player').style.top) > 0) {
                            document.getElementById('player').style.top = parseInt(document.getElementById('player').style.top) - 10 + 'px'
                        }

                        if (move04 == true && parseInt(document.getElementById('player').style.top) < 800) {
                            document.getElementById('player').style.top = parseInt(document.getElementById('player').style.top) + 10 + 'px'
                        }

                        myCheckHit()
                    }, 5)
                    };

            document.addEventListener("keydown", function(e) {
                if (e.key == 'd' || e.key == 'D') {
                    move01 = true
                }

                if (e.key == 'a' || e.key == 'A') {
                    move02 = true
                }

                if (e.key == 'w' || e.key == 'W') {
                    move03 = true
                }

                if (e.key == 's' || e.key == 'S') {
                    move04 = true
                }
            });

            document.addEventListener("keyup", function(e) {
                if (e.key == 'd' || e.key == 'D') {
                    move01 = false
                }

                if (e.key == 'a' || e.key == 'A') {
                    move02 = false
                }

                if (e.key == 'w' || e.key == 'W') {
                    move03 = false
                }

                if (e.key == 's' || e.key == 'S') {
                    move04 = false
                }
            });
        </script>
    </body>
</html>
